{"ast":null,"code":"import { mapGetters } from 'vuex';\nimport axios from 'axios';\nexport default {\n  computed: {\n    ...mapGetters(['getProductsInCart'])\n  },\n  methods: {\n    clearCart() {\n      this.$store.dispatch(\"clearCart\");\n    },\n    async orderCreate() {\n      const orderProducts = this.getProductsInCart.map(p => {\n        return {\n          productId: p.id,\n          quantity: p.quantity\n        };\n      });\n      console.log(orderProducts);\n      if (orderProducts.length < 1) {\n        alert(\"주문대상 물건이 없습니다.\");\n        return;\n      }\n      const yesOrNo = confirm(`${orderProducts.length}개의 상품을 주문하시겠습니까?`);\n      if (!yesOrNo) {\n        console.log(\"주문이 취소되었습니다.\");\n        return;\n      }\n      try {\n        await axios.post(`${process.env.VUE_APP_API_BASE_URL}/order/create`, orderProducts);\n        alert(\"주문완료되었습니다.\");\n        this.clearCart();\n      } catch (e) {\n        alert(\"주문실패되었습니다.\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","axios","computed","methods","clearCart","$store","dispatch","orderCreate","orderProducts","getProductsInCart","map","p","productId","id","quantity","console","log","length","alert","yesOrNo","confirm","post","process","env","VUE_APP_API_BASE_URL","e"],"sources":["/Users/wisdom/Documents/GitHub/order-frontend/src/views/OrderCart.vue"],"sourcesContent":["<template>\n    <v-container>\n        <v-row justify=\"center\">\n            <v-col class=\"text-center text-h5\">\n                장바구니 목록\n            </v-col>\n        </v-row>\n        <v-row justify=\"space-between\">\n            <v-col cols=\"auto\">\n                <v-btn @click=\"clearCart\" color=\"secondary\">장바구니 비우기</v-btn>\n            </v-col>\n            <v-col cols=\"auto\">\n                <v-btn @click=\"orderCreate\" color=\"primary\">주문하기</v-btn>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-col>\n                <v-table>\n                    <thead>\n                        <tr>\n                            <th>제품ID</th>\n                            <th>제품명</th>\n                            <th>주문수량</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"product in getProductsInCart\" :key=\"product.id\">\n                            <td>{{product.id}}</td>\n                            <td>{{product.name}}</td>\n                            <td>{{product.quantity}}</td>\n                        </tr>\n                    </tbody>\n                </v-table>\n            </v-col>\n        </v-row>\n    </v-container>\n    \n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport axios from 'axios';\nexport default{\n    computed:{\n        ...mapGetters(['getProductsInCart'])\n    },\n    methods:{\n        clearCart(){\n            this.$store.dispatch(\"clearCart\");\n        },\n        async orderCreate(){\n            const orderProducts = this.getProductsInCart.map(p=> {return {productId: p.id, quantity: p.quantity}});\n            console.log(orderProducts);\n            if(orderProducts.length < 1){\n                alert(\"주문대상 물건이 없습니다.\");\n                return;\n            }\n\n            const yesOrNo = confirm(`${orderProducts.length}개의 상품을 주문하시겠습니까?`);\n            \n            if(!yesOrNo){\n                console.log(\"주문이 취소되었습니다.\");\n                return;\n            }\n\n            try{\n                await axios.post(`${process.env.VUE_APP_API_BASE_URL}/order/create`, orderProducts);\n                alert(\"주문완료되었습니다.\");\n                this.clearCart();\n            }catch(e){\n                alert(\"주문실패되었습니다.\");\n            }\n        }\n    }\n}\n</script>\n"],"mappings":"AAuCA,SAASA,UAAS,QAAS,MAAM;AACjC,OAAOC,KAAI,MAAO,OAAO;AACzB,eAAc;EACVC,QAAQ,EAAC;IACL,GAAGF,UAAU,CAAC,CAAC,mBAAmB,CAAC;EACvC,CAAC;EACDG,OAAO,EAAC;IACJC,SAASA,CAAA,EAAE;MACP,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,WAAW,CAAC;IACrC,CAAC;IACD,MAAMC,WAAWA,CAAA,EAAE;MACf,MAAMC,aAAY,GAAI,IAAI,CAACC,iBAAiB,CAACC,GAAG,CAACC,CAAC,IAAG;QAAC,OAAO;UAACC,SAAS,EAAED,CAAC,CAACE,EAAE;UAAEC,QAAQ,EAAEH,CAAC,CAACG;QAAQ,CAAC;MAAA,CAAC,CAAC;MACtGC,OAAO,CAACC,GAAG,CAACR,aAAa,CAAC;MAC1B,IAAGA,aAAa,CAACS,MAAK,GAAI,CAAC,EAAC;QACxBC,KAAK,CAAC,gBAAgB,CAAC;QACvB;MACJ;MAEA,MAAMC,OAAM,GAAIC,OAAO,CAAC,GAAGZ,aAAa,CAACS,MAAM,kBAAkB,CAAC;MAElE,IAAG,CAACE,OAAO,EAAC;QACRJ,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC3B;MACJ;MAEA,IAAG;QACC,MAAMf,KAAK,CAACoB,IAAI,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,eAAe,EAAEhB,aAAa,CAAC;QACnFU,KAAK,CAAC,YAAY,CAAC;QACnB,IAAI,CAACd,SAAS,CAAC,CAAC;MACpB,CAAC,QAAMqB,CAAC,EAAC;QACLP,KAAK,CAAC,YAAY,CAAC;MACvB;IACJ;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}