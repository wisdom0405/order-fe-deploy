{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\");\n  const _component_v_list_item_content = _resolveComponent(\"v-list-item-content\");\n  const _component_v_list_item = _resolveComponent(\"v-list-item\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_data_table = _resolveComponent(\"v-data-table\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_row, {\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, null, {\n        default: _withCtx(() => [_createVNode(_component_v_card_title, {\n          class: \"text-center text-h5\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" 주문목록 \")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_card_text, null, {\n          default: _withCtx(() => [_createVNode(_component_v_data_table, {\n            headers: $data.tableHeaders,\n            items: $data.orderList,\n            class: \"elevation-1\",\n            \"show-expand\": \"\"\n          }, {\n            [`item.actions`]: _withCtx(({\n              item\n            }) => [$props.isAdmin && item.orderStatus === 'ORDERED' ? (_openBlock(), _createBlock(_component_v_btn, {\n              key: 0,\n              color: \"red\",\n              onClick: _withModifiers($event => $options.cancelOrder(item.id), [\"stop\"]),\n              size: \"small\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(\" CANCEL \")]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true)]),\n            \"expanded-row\": _withCtx(({\n              item\n            }) => [_createVNode(_component_v_row, null, {\n              default: _withCtx(() => [_createVNode(_component_v_col, null, {\n                default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.orderDetailDtos, orderItem => {\n                  return _openBlock(), _createBlock(_component_v_list_item, {\n                    key: orderItem.id\n                  }, {\n                    default: _withCtx(() => [_createVNode(_component_v_list_item_content, null, {\n                      default: _withCtx(() => [_createVNode(_component_v_list_item_title, null, {\n                        default: _withCtx(() => [_createTextVNode(_toDisplayString(orderItem.productName) + \" \" + _toDisplayString(orderItem.count) + \" 개 \", 1 /* TEXT */)]),\n                        _: 2 /* DYNAMIC */\n                      }, 1024 /* DYNAMIC_SLOTS */)]),\n                      _: 2 /* DYNAMIC */\n                    }, 1024 /* DYNAMIC_SLOTS */)]),\n                    _: 2 /* DYNAMIC */\n                  }, 1024 /* DYNAMIC_SLOTS */);\n                }), 128 /* KEYED_FRAGMENT */))]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */)]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */)]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"headers\", \"items\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","default","_withCtx","_createVNode","_component_v_row","justify","_component_v_col","_component_v_card_title","class","_createTextVNode","_","_component_v_card_text","_component_v_data_table","headers","$data","tableHeaders","items","orderList","item","$props","isAdmin","orderStatus","_component_v_btn","key","color","onClick","_withModifiers","$event","$options","cancelOrder","id","size","_createCommentVNode","_createElementBlock","_Fragment","_renderList","orderDetailDtos","orderItem","_component_v_list_item","_component_v_list_item_content","_component_v_list_item_title","_toDisplayString","productName","count"],"sources":["/Users/wisdom/Documents/GitHub/order-frontend/src/components/OrderListComponent.vue"],"sourcesContent":["<template>\n    <v-container>\n        <v-row justify=\"center\">\n            <v-col>\n                <v-card-title class=\"text-center text-h5\">\n                    주문목록\n                </v-card-title>\n                \n                <v-card-text>\n                    <v-data-table\n                    :headers=\"tableHeaders\"\n                    :items=\"orderList\"\n                    class=\"elevation-1\"\n                    show-expand\n                    >\n                    <template v-slot:[`item.actions`]=\"{item}\">\n                        <v-btn color=\"red\" v-if=\"isAdmin && item.orderStatus === 'ORDERED'\" @click.stop=\"cancelOrder(item.id)\" size=small>\n                            CANCEL\n                        </v-btn>\n                    </template>\n\n                    <template v-slot:expanded-row=\"{item}\">\n                        <v-row>\n                            <v-col>\n                                <v-list-item v-for=\"orderItem in item.orderDetailDtos\" :key=\"orderItem.id\">\n                                    <v-list-item-content>\n                                        <v-list-item-title>\n                                            {{ orderItem.productName }} {{ orderItem.count }} 개\n                                        </v-list-item-title>\n                                    </v-list-item-content>\n                                </v-list-item>\n                            </v-col>\n                        </v-row>\n                    </template>\n\n                    </v-data-table>\n                </v-card-text>\n\n            </v-col>\n        </v-row>\n    </v-container>\n</template>\n<script>\nimport axios from 'axios';\nexport default{\n    props: ['isAdmin'],\n    data(){\n        return{\n            orderList:[],\n            tableHeaders: [\n                        {title: 'ID', key : 'id', align: 'start'}, \n                        {title:'회원 EMAIL', key:'memberEmail', align:'start'},\n                        {title:'주문상태', key:'orderStatus', align:'start'},\n                        {title:'ACTION', key:'actions', align:'start'}\n                        ]\n        }\n    },\n    async created(){\n        if(isAdmin){\n            const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/order/list`); \n            this.orderList = response.data.result;\n        }else{\n            const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/order/myorders`); \n            this.orderList = response.data.result;\n        }\n        \n    },\n    methods:{\n        async cancelOrder(id){\n            try{\n                await axios.patch(`${process.env.VUE_APP_API_BASE_URL}/order/${id}/cancel`); \n                window.location.reload();\n            }catch(e){\n                console.log(e);\n            }\n\n        }\n    }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;uBACIA,YAAA,CAuCcC,sBAAA;IAxClBC,OAAA,EAAAC,QAAA,CAEQ,MAqCQ,CArCRC,YAAA,CAqCQC,gBAAA;MArCDC,OAAO,EAAC;IAAQ;MAF/BJ,OAAA,EAAAC,QAAA,CAGY,MAmCQ,CAnCRC,YAAA,CAmCQG,gBAAA;QAtCpBL,OAAA,EAAAC,QAAA,CAIgB,MAEe,CAFfC,YAAA,CAEeI,uBAAA;UAFDC,KAAK,EAAC;QAAqB;UAJzDP,OAAA,EAAAC,QAAA,CAI0D,MAE1C,CANhBO,gBAAA,CAI0D,QAE1C,E;UANhBC,CAAA;YAQgBP,YAAA,CA4BcQ,sBAAA;UApC9BV,OAAA,EAAAC,QAAA,CASoB,MA0Be,CA1BfC,YAAA,CA0BeS,uBAAA;YAzBdC,OAAO,EAAEC,KAAA,CAAAC,YAAY;YACrBC,KAAK,EAAEF,KAAA,CAAAG,SAAS;YACjBT,KAAK,EAAC,aAAa;YACnB,aAAW,EAAX;;YAEiB,kBAAgBN,QAAA,CAC7B,CAEQ;cAHwBgB;YAAI,OACXC,MAAA,CAAAC,OAAO,IAAIF,IAAI,CAACG,WAAW,kB,cAApDtB,YAAA,CAEQuB,gBAAA;cAlBhCC,GAAA;cAgB+BC,KAAK,EAAC,KAAK;cAAmDC,OAAK,EAhBlGC,cAAA,CAAAC,MAAA,IAgByGC,QAAA,CAAAC,WAAW,CAACX,IAAI,CAACY,EAAE;cAAGC,IAAI,EAAC;;cAhBpI9B,OAAA,EAAAC,QAAA,CAgB0I,MAElH,CAlBxBO,gBAAA,CAgB0I,UAElH,E;cAlBxBC,CAAA;gEAAAsB,mBAAA,e;YAqBqC,cAAY,EAAA9B,QAAA,CACzB,CAUQ;cAXoBgB;YAAI,OAChCf,YAAA,CAUQC,gBAAA;cAhChCH,OAAA,EAAAC,QAAA,CAuB4B,MAQQ,CARRC,YAAA,CAQQG,gBAAA;gBA/BpCL,OAAA,EAAAC,QAAA,CAwB6C,MAAyC,E,kBAAtD+B,mBAAA,CAMcC,SAAA,QA9B9CC,WAAA,CAwBiEjB,IAAI,CAACkB,eAAe,EAAjCC,SAAS;uCAA7BtC,YAAA,CAMcuC,sBAAA;oBAN0Cf,GAAG,EAAEc,SAAS,CAACP;;oBAxBvG7B,OAAA,EAAAC,QAAA,CAyBoC,MAIsB,CAJtBC,YAAA,CAIsBoC,8BAAA;sBA7B1DtC,OAAA,EAAAC,QAAA,CA0BwC,MAEoB,CAFpBC,YAAA,CAEoBqC,4BAAA;wBA5B5DvC,OAAA,EAAAC,QAAA,CA2B4C,MAA2B,CA3BvEO,gBAAA,CAAAgC,gBAAA,CA2B+CJ,SAAS,CAACK,WAAW,IAAG,GAAC,GAAAD,gBAAA,CAAGJ,SAAS,CAACM,KAAK,IAAG,KACrD,gB;wBA5BxCjC,CAAA;;sBAAAA,CAAA;;oBAAAA,CAAA;;;gBAAAA,CAAA;;cAAAA,CAAA;;YAAAA,CAAA;;UAAAA,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}